
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>

		<!-- GitHub icons and styles -->
		<link rel="stylesheet" href="assets/bower_components/octicons/octicons/octicons.css"/>

		<!-- Bootstrap -->
		<link rel="stylesheet" href="assets/bower_components/bootstrap/dist/css/bootstrap.min.css"/>
		<link rel="stylesheet" href="assets/bower_components/bootstrap/dist/css/bootstrap-theme.css"/>
		<script src="assets/bower_components/jquery/dist/jquery.min.js"></script>
		<script src="assets/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

		<!-- FontAwesome -->	
		<link rel="stylesheet" href="assets/bower_components/font-awesome/css/font-awesome.min.css"/>
		
		<!-- LiveReload (development) -->
		<script src="http://localhost:35729/livereload.js"></script>

		<!-- Twitter javascript -->
		<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

		<!-- Site styles -->
		<link rel="stylesheet" href="assets/css/style.css"/>
	</head>
	<body>
		<div class="header">
			<h2 class="brand"><a href="/site">Justin Manley</a></h2>
			<p>Coder, mapmaker, aspiring architecture critic, currently a student at the University of Chicago. I write about cities at <a href="http://outoftheyards.com.">outoftheyards.com</a>.</p>	
		</div>
		<div class="navbar" role="navigation">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#nav-links">
						<span class="sr-only">Toggle Navigation</span>
					</button>
				</div>
				<div class="collapse navbar-collapse" id="nav-links">
					<ul class="nav navbar-nav">
					
						<li><a href="https://github.com/manleyjster">GitHub</a></li>
					
						<li><a href="/site/blog">Blog</a></li>
					
						<li><a href="http://outoftheyards.com">Out of the Yards</a></li>
					
						<li><a href="http://justinmanley.portfoliobox.me/">Portfolio</a></li>
					
						<li><a href="/site/demos">Demos</a></li>
					
						<li><a href="/site/archive">Archive</a></li>
					
					</ul>
				</div>
			</div>
		</div>
		

<div class="container-fluid">
	<div class="row">
		
			<div class="col-md-4 feed">
				<div class="event github-event"><!-- push -->
<span class="mega-octicon octicon-git-commit"></span>

<div class="time">
  <time datetime="2014-09-04T03:02:52Z" is="relative-time">September 04, 2014</time>
</div>

<div class="title">
  <a href="https://github.com/manleyjster">manleyjster</a> <span>pushed</span> to <a href="/manleyjster/mapknitter/tree/annotation-interface">annotation-interface</a> at <a href="https://github.com/manleyjster/mapknitter" class="css-truncate css-truncate-target">manleyjster/mapknitter</a>
</div>

<div class="details">
  <a href="https://github.com/manleyjster"><img alt="Justin Manley" class="gravatar" data-user="1668487" height="30" src="https://avatars3.githubusercontent.com/u/1668487?v=2&amp;s=60" width="30" /></a>

    <div class="commits pusher-is-only-committer">
      <ul>
        <li>
          <span title="manleyjster">
            <img alt="Justin Manley" data-user="1668487" height="16" src="https://avatars2.githubusercontent.com/u/1668487?v=2&amp;s=32" width="16" />
          </span>
          <code><a href="/manleyjster/mapknitter/commit/32b06c3a5aa304704aeb15c03f6fa7617a2139ac">32b06c3</a></code>
          <div class="message">
            <blockquote>
              Refactor mapknitter.js to provide a uniform interface for all resourc…
            </blockquote>
          </div>
        </li>
        <li>
          <span title="manleyjster">
            <img alt="Justin Manley" data-user="1668487" height="16" src="https://avatars2.githubusercontent.com/u/1668487?v=2&amp;s=32" width="16" />
          </span>
          <code><a href="/manleyjster/mapknitter/commit/0f034f22566814d9e197a703fe26dcc8d3f6fbb7">0f034f2</a></code>
          <div class="message">
            <blockquote>
              Change class constant name for thumbnail configuration to THUMBNAILS …
            </blockquote>
          </div>
        </li>
        <li class="more"><a href="https://github.com/manleyjster/mapknitter/compare/28a21e9b5f...32b06c3a5a">2 more commits &raquo;</a></li>
      </ul>
    </div>
</div>
</div><div class="event github-event"><!-- push -->
<span class="mega-octicon octicon-git-commit"></span>

<div class="time">
  <time datetime="2014-09-02T18:22:55Z" is="relative-time">September 02, 2014</time>
</div>

<div class="title">
  <a href="https://github.com/manleyjster">manleyjster</a> <span>pushed</span> to <a href="/manleyjster/Leaflet.Illustrate/tree/master">master</a> at <a href="https://github.com/manleyjster/Leaflet.Illustrate" class="css-truncate css-truncate-target">manleyjster/Leaflet.Illustrate</a>
</div>

<div class="details">
  <a href="https://github.com/manleyjster"><img alt="Justin Manley" class="gravatar" data-user="1668487" height="30" src="https://avatars3.githubusercontent.com/u/1668487?v=2&amp;s=60" width="30" /></a>

    <div class="commits pusher-is-only-committer">
      <ul>
        <li>
          <span title="manleyjster">
            <img alt="Justin Manley" data-user="1668487" height="16" src="https://avatars2.githubusercontent.com/u/1668487?v=2&amp;s=32" width="16" />
          </span>
          <code><a href="/manleyjster/Leaflet.Illustrate/commit/e7060e1cf1337b9923cfe52d74fee935e867aaa7">e7060e1</a></code>
          <div class="message">
            <blockquote>
              Remove GeoJSON functionality from L.Illustrate.Textbox (added too muc…
            </blockquote>
          </div>
        </li>
        <li>
          <span title="manleyjster">
            <img alt="Justin Manley" data-user="1668487" height="16" src="https://avatars2.githubusercontent.com/u/1668487?v=2&amp;s=32" width="16" />
          </span>
          <code><a href="/manleyjster/Leaflet.Illustrate/commit/3002456ba749b8b8930aeb29bf820382fd73529f">3002456</a></code>
          <div class="message">
            <blockquote>
              Add toGeoJSON and fromGeoJSON methods to L.Illustrate.Textbox.
            </blockquote>
          </div>
        </li>
        <li class="more"><a href="https://github.com/manleyjster/Leaflet.Illustrate/compare/f4734659b8...e7060e1cf1">1 more commit &raquo;</a></li>
      </ul>
    </div>
</div>
</div><div class="event publiclab-event">
  <time class="time">September 1, 2014</time>
  <div class="title">
    <a href="http://publiclab.org/profile/justinmanley">justinmanley</a>
    <span> posted </span>
    <a href="http://publiclab.org//notes/justinmanley/09-01-2014/setting-up-mapknitter">Setting up MapKnitter</a>
  </div>
</div>
<div class="event github-event"><!-- push -->
<span class="mega-octicon octicon-git-commit"></span>

<div class="time">
  <time datetime="2014-08-28T03:01:47Z" is="relative-time">August 28, 2014</time>
</div>

<div class="title">
  <a href="https://github.com/manleyjster">manleyjster</a> <span>pushed</span> to <a href="/manleyjster/mapknitter/tree/annotation-interface">annotation-interface</a> at <a href="https://github.com/manleyjster/mapknitter" class="css-truncate css-truncate-target">manleyjster/mapknitter</a>
</div>

<div class="details">
  <a href="https://github.com/manleyjster"><img alt="Justin Manley" class="gravatar" data-user="1668487" height="30" src="https://avatars3.githubusercontent.com/u/1668487?v=2&amp;s=60" width="30" /></a>

    <div class="commits pusher-is-only-committer">
      <ul>
        <li>
          <span title="manleyjster">
            <img alt="Justin Manley" data-user="1668487" height="16" src="https://avatars2.githubusercontent.com/u/1668487?v=2&amp;s=32" width="16" />
          </span>
          <code><a href="/manleyjster/mapknitter/commit/86a6b672b9035e1dcd8b76b0a74c62304f33d2ac">86a6b67</a></code>
          <div class="message">
            <blockquote>
              Refactor map views. Move markup into knitter2 layout and eliminate pa…
            </blockquote>
          </div>
        </li>
      </ul>
    </div>
</div>
</div><div class="event github-event"><!-- push -->
<span class="mega-octicon octicon-git-commit"></span>

<div class="time">
  <time datetime="2014-08-22T22:43:40Z" is="relative-time">August 22, 2014</time>
</div>

<div class="title">
  <a href="https://github.com/manleyjster">manleyjster</a> <span>pushed</span> to <a href="/manleyjster/mapknitter/tree/annotation-interface">annotation-interface</a> at <a href="https://github.com/manleyjster/mapknitter" class="css-truncate css-truncate-target">manleyjster/mapknitter</a>
</div>

<div class="details">
  <a href="https://github.com/manleyjster"><img alt="Justin Manley" class="gravatar" data-user="1668487" height="30" src="https://avatars3.githubusercontent.com/u/1668487?v=2&amp;s=60" width="30" /></a>

    <div class="commits pusher-is-only-committer">
      <ul>
        <li>
          <span title="manleyjster">
            <img alt="Justin Manley" data-user="1668487" height="16" src="https://avatars2.githubusercontent.com/u/1668487?v=2&amp;s=32" width="16" />
          </span>
          <code><a href="/manleyjster/mapknitter/commit/cb9b8a908cced9b9c934f9593dfc1d60897e6e6a">cb9b8a9</a></code>
          <div class="message">
            <blockquote>
              Enable drag-and-drop from sidebar onto the map. Refactor maps.js appl…
            </blockquote>
          </div>
        </li>
      </ul>
    </div>
</div>
</div><div class="event publiclab-event">
  <time class="time">August 19, 2014</time>
  <div class="title">
    <a href="http://publiclab.org/profile/justinmanley">justinmanley</a>
    <span> posted </span>
    <a href="http://publiclab.org//notes/justinmanley/08-19-2014/mapknitter-annotations-riffle-data-as-map-annotations">MapKnitter Annotations: Riffle Data as Map Annotations</a>
  </div>
</div>
<div class="event publiclab-event">
  <time class="time">August 18, 2014</time>
  <div class="title">
    <a href="http://publiclab.org/profile/justinmanley">justinmanley</a>
    <span> posted </span>
    <a href="http://publiclab.org//notes/justinmanley/08-19-2014/mapknitter-annotations-interface-refactoring-underway">MapKnitter Annotations: Interface Refactoring Underway</a>
  </div>
</div>
<div class="event publiclab-event">
  <time class="time">August 6, 2014</time>
  <div class="title">
    <a href="http://publiclab.org/profile/justinmanley">justinmanley</a>
    <span> posted </span>
    <a href="http://publiclab.org//notes/justinmanley/08-06-2014/mapknitter-annotations-interface-refactoring">MapKnitter Annotations: Interface Refactoring</a>
  </div>
</div>
<div class="event publiclab-event">
  <time class="time">July 29, 2014</time>
  <div class="title">
    <a href="http://publiclab.org/profile/justinmanley">justinmanley</a>
    <span> posted </span>
    <a href="http://publiclab.org//notes/justinmanley/07-29-2014/mapknitter-annotations-version-0-0-2-released-with-l-illustrate-textbox-and-l-illustrate-pointer">MapKnitter Annotations: Version 0.0.2 released with L.Illustrate.Textbox and L.Illustrate.Pointer</a>
  </div>
</div>
<div class="event publiclab-event">
  <time class="time">July 14, 2014</time>
  <div class="title">
    <a href="http://publiclab.org/profile/justinmanley">justinmanley</a>
    <span> posted </span>
    <a href="http://publiclab.org//notes/justinmanley/07-14-2014/mapknitter-annotations-leaflet-illustrate-edithandle-and-leaflet-illustrate-pointer">MapKnitter Annotations: Leaflet.Illustrate.EditHandle and Leaflet.Illustrate.Pointer</a>
  </div>
</div>

			</div>
		

		
			<div class="col-md-8 article">
				<article>
  <h3 class="article-title">MapKnitter Annotations: First Live Release</h3>
  <div class="article-info">
    <time class="article-date">September 1, 2014</time>
    <div class="article-source">
      Originally published on 
      <a href="http://publiclab.org/profile/justinmanley">Public Lab</a>
    </div>
  </div>
  <div class="article-body"><p><img src='http://i.publiclab.org/system/images/photos/000/006/541/medium/mapknitter-3.png'/><br /> ### First Live Release! ###</p>
<p>The first pre-beta of the new MapKnitter interface is live!  Try it out at <a href="http://test.publiclab.org:3000/">test.publiclab.org:3000</a>.</p>
<p><br /></p>
<div class="text-center"><a class="btn btn-primary btn-large" href="http://test.publiclab.org:3000/">Try the new MapKnitter</a></div>

<p><br /></p>
<p>Please do note that this is an early release and that the following features, among others, have not yet been implemented.</p>
<ul>
<li>map deletion</li>
<li>anonymous map creation and editing</li>
<li>map export</li>
</ul>
<p>In addition, only those pages which are essential to creating and viewing new maps have been refactored using the new interface.</p>
<p><a href="http://i.publiclab.org/system/images/photos/000/006/542/original/mapknitter-1.png"><img src="http://i.publiclab.org/system/images/photos/000/006/542/medium/mapknitter-1.png" alt="mapknitter-1.png"/></a></p>
<p><a href="http://i.publiclab.org/system/images/photos/000/006/543/original/mapknitter-3.png"><img src="http://i.publiclab.org/system/images/photos/000/006/543/medium/mapknitter-3.png" alt="mapknitter-3.png"/></a></p>
<h3 id="background">Background</h3>
<p>I am working to add rich annotation functionality to MapKnitter as part of Google Summer of Code (read about my project here: <a href="http://publiclab.org/notes/justinmanley/03-18-2014/mapknitter-annotations-using-fabric-js-gsoc-2014-proposal">http://publiclab.org/notes/justinmanley/03-18-2014/mapknitter-annotations-using-fabric-js-gsoc-2014-proposal</a>).</p>
<p>The goal of this research note is to provide an update to the community on my progress with refactoring the MapKnitter interface.</p>
<p>You can check out our previous discussion of this interface refactoring in my previous research notes:</p>
<p><a href="http://publiclab.org/notes/justinmanley/08-06-2014/mapknitter-annotations-interface-refactoring">August 6, 2014 - MapKnitter Annotations: Interface Refactoring</a> </p>
<p><a href="http://publiclab.org/notes/justinmanley/08-19-2014/mapknitter-annotations-interface-refactoring-underway">August 19, 2014 - MapKnitter Annotations: Interface Refactoring Underway</a></p>
<h3 id="progress">Progress</h3>
<p>Since my last research note, I've:</p>
<ul>
<li>Refactored some of the code handling warpables (uploaded images)</li>
<li>Integrated @xvidun's file upload interface (based on <a href="https://github.com/blueimp/jQuery-File-Upload">jQuery-File-Upload</a>).</li>
<li>Enabled <code>Leaflet.Illustrate</code> and <code>Leaflet.Draw</code> in map viewing mode.</li>
<li>Enabled warpable drag-and-drop from the sidebar onto the map.</li>
</ul>
<p>I haven't yet been able to integrate @xvidun's autoplacement features yet because those depend on Cartagen (@xvidun's autoplacement code calls <code>new_image</code> and <code>new_image_GPS</code> from Cartagen).  Unfortunately, the <code>Element.hide()</code> method in Cartagen breaks Bootstrap dropdown menus (presumably because it conflicts with jQuery's <code>hide()</code> method, so it doesn't seem to be a sustainable in the long-term.</p>
<h3 id="up-next">Up Next</h3>
<p>I've spent a lot of time over the past month doing a general overhaul of the MapKnitter editing interface.  Now, I'm going to return to my own project - MapKnitter annotations.  I'm going to work over the next few weeks on integrating the work that I've done on <code>Leaflet.Illustrate</code> into the new Leaflet-based MapKnitter interface.  This will involve:</p>
<ul>
<li>Defining <code>toGeoJSON</code> for <code>Leaflet.Illustrate</code> annotations, deciding how <code>Leaflet.Illustrate</code> and <code>Leaflet.draw</code> objects will be stored in the MapKnitter database, and writing migrations and a new ActiveRecord model to handle them.</li>
<li>Adding to the <code>Leaflet.Illustrate</code> user interface to allow people to pick different colors, fonts, etc. for their annotations.</li>
</ul>
<p>I also <em>really</em> want to work on integrating Anish's ImageDistortLeaflet plugin into MapKnitter, since the ability to distort images placed on the map is absolutely the core functionality of MapKnitter.  This will be my primary focus as soon as I've spent some time working on annotations.</p>
</div>
</article>

			</div>
						
	</div>
</div>
		<footer class="footer">
			<div class="social-media">
				<a href="www.linkedin.com/in/justinmanley/" target="_blank">
					<span class="fa fa-linkedin"></span>
				</a>
				<a href="https://github.com/manleyjster" target="_blank">
					<span class="fa fa-github"></span>
				</a>
				<a href="https://twitter.com/outoftheyards" target="_blank">
					<span class="fa fa-twitter"></span>
				</a>
				<a href="mailto:manleyjster@gmail.com" target="_blank">
					<span class="fa fa-envelope"></span>
				</a>		
			</div>
			<div class="attributions">
				<p>This site was generated on Sep 4th, 2014 with <a href="http://gruntjs.com/">Grunt</a> and <a href="http://assemble.io/">Assemble</a> using fonts and icons from <a href="http://glyphicons.com/">Glyphicons</a>, <a href="http://fortawesome.github.io/Font-Awesome/">Font Awesome</a>, and <a href="https://www.theleagueofmoveabletype.com/">The League of Moveable Type</a>.</p>
				
			</div>		
		</footer>	
	</body>
</html>