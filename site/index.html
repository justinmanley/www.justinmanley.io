
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>

		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>  justinmanley.io</title>

		<link rel="icon" type="image/png" href="assets/images/favicon.ico"/>

		<!-- GitHub icons and styles -->
		<link rel="stylesheet" href="assets/bower_components/octicons/octicons/octicons.css"/>

		<!-- Bootstrap -->
		<link rel="stylesheet" href="assets/bower_components/bootstrap/dist/css/bootstrap.min.css"/>
		<link rel="stylesheet" href="assets/bower_components/bootstrap/dist/css/bootstrap-theme.css"/>
		<script src="assets/bower_components/jquery/dist/jquery.min.js"></script>
		<script src="assets/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

		<!-- FontAwesome -->	
		<link rel="stylesheet" href="assets/bower_components/font-awesome/css/font-awesome.min.css"/>
		
		<!-- LiveReload (development) -->
		<script src="http://localhost:35729/livereload.js"></script>

		<!-- Twitter javascript -->
		<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

		<!-- Site styles -->
		<link rel="stylesheet" href="assets/css/style.css"/>
	</head>
	<body>
		<div class="header">
			<h2 class="brand"><a href="/">Justin Manley</a></h2>
			<p>Coder, mapmaker, aspiring architecture critic, currently a student at the University of Chicago. I write about cities at <a href="http://outoftheyards.com.">outoftheyards.com</a>.</p>	
		</div>
		<div class="navbar" role="navigation">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#nav-links">
						<span class="sr-only">Toggle Navigation</span>
						<span class="glyphicon glyphicon-justify"></span>
					</button>
				</div>
				<div class="collapse navbar-collapse" id="nav-links">
					<ul class="nav navbar-nav">
					
						<li><a href="https://github.com/manleyjster">
							GitHub
							
								<span class="nav-external-link glyphicon glyphicon-new-window"></span>
							
						</a></li>
					
						<li><a href="/blog">
							Blog
							
						</a></li>
					
						<li><a href="http://outoftheyards.com">
							Out of the Yards
							
								<span class="nav-external-link glyphicon glyphicon-new-window"></span>
							
						</a></li>
					
						<li><a href="http://justinmanley.portfoliobox.me/">
							Portfolio
							
								<span class="nav-external-link glyphicon glyphicon-new-window"></span>
							
						</a></li>
					
						<li><a href="/work">
							Work
							
						</a></li>
					
						<li><a href="/archive">
							Archive
							
						</a></li>
					
					</ul>
				</div>
			</div>
		</div>
		

<div class="container-fluid">
	<div class="row">
		
			<div class="col-md-8 col-md-push-4 article">
				<article>
  <h3 class="article-title">MapKnitter Annotations: First Live Release</h3>
  <div class="article-info">
    <time class="article-date" datetime="2014-09-01T22:22:48-05:00">September 1, 2014</time>
    <div class="article-source">
      Originally published on 
      <a href="http://publiclab.org/profile/justinmanley">Public Lab</a>
    </div>
  </div>
  <div class="article-body"><p><img src='http://i.publiclab.org/system/images/photos/000/006/541/medium/mapknitter-3.png'/><br /> ### First Live Release! ###</p>
<p>The first pre-beta of the new MapKnitter interface is live!  Try it out at <a href="http://test.publiclab.org:3000/">test.publiclab.org:3000</a>.</p>
<p><br /></p>
<div class="text-center"><a class="btn btn-primary btn-large" href="http://test.publiclab.org:3000/">Try the new MapKnitter</a></div>

<p><br /></p>
<p>Please do note that this is an early release and that the following features, among others, have not yet been implemented.</p>
<ul>
<li>map deletion</li>
<li>anonymous map creation and editing</li>
<li>map export</li>
</ul>
<p>In addition, only those pages which are essential to creating and viewing new maps have been refactored using the new interface.</p>
<p><a href="http://i.publiclab.org/system/images/photos/000/006/542/original/mapknitter-1.png"><img src="http://i.publiclab.org/system/images/photos/000/006/542/medium/mapknitter-1.png" alt="mapknitter-1.png"/></a></p>
<p><a href="http://i.publiclab.org/system/images/photos/000/006/543/original/mapknitter-3.png"><img src="http://i.publiclab.org/system/images/photos/000/006/543/medium/mapknitter-3.png" alt="mapknitter-3.png"/></a></p>
<h3 id="background">Background</h3>
<p>I am working to add rich annotation functionality to MapKnitter as part of Google Summer of Code (read about my project here: <a href="http://publiclab.org/notes/justinmanley/03-18-2014/mapknitter-annotations-using-fabric-js-gsoc-2014-proposal">http://publiclab.org/notes/justinmanley/03-18-2014/mapknitter-annotations-using-fabric-js-gsoc-2014-proposal</a>).</p>
<p>The goal of this research note is to provide an update to the community on my progress with refactoring the MapKnitter interface.</p>
<p>You can check out our previous discussion of this interface refactoring in my previous research notes:</p>
<p><a href="http://publiclab.org/notes/justinmanley/08-06-2014/mapknitter-annotations-interface-refactoring">August 6, 2014 - MapKnitter Annotations: Interface Refactoring</a> </p>
<p><a href="http://publiclab.org/notes/justinmanley/08-19-2014/mapknitter-annotations-interface-refactoring-underway">August 19, 2014 - MapKnitter Annotations: Interface Refactoring Underway</a></p>
<h3 id="progress">Progress</h3>
<p>Since my last research note, I've:</p>
<ul>
<li>Refactored some of the code handling warpables (uploaded images)</li>
<li>Integrated @xvidun's file upload interface (based on <a href="https://github.com/blueimp/jQuery-File-Upload">jQuery-File-Upload</a>).</li>
<li>Enabled <code>Leaflet.Illustrate</code> and <code>Leaflet.Draw</code> in map viewing mode.</li>
<li>Enabled warpable drag-and-drop from the sidebar onto the map.</li>
</ul>
<p>I haven't yet been able to integrate @xvidun's autoplacement features yet because those depend on Cartagen (@xvidun's autoplacement code calls <code>new_image</code> and <code>new_image_GPS</code> from Cartagen).  Unfortunately, the <code>Element.hide()</code> method in Cartagen breaks Bootstrap dropdown menus (presumably because it conflicts with jQuery's <code>hide()</code> method, so it doesn't seem to be a sustainable in the long-term.</p>
<h3 id="up-next">Up Next</h3>
<p>I've spent a lot of time over the past month doing a general overhaul of the MapKnitter editing interface.  Now, I'm going to return to my own project - MapKnitter annotations.  I'm going to work over the next few weeks on integrating the work that I've done on <code>Leaflet.Illustrate</code> into the new Leaflet-based MapKnitter interface.  This will involve:</p>
<ul>
<li>Defining <code>toGeoJSON</code> for <code>Leaflet.Illustrate</code> annotations, deciding how <code>Leaflet.Illustrate</code> and <code>Leaflet.draw</code> objects will be stored in the MapKnitter database, and writing migrations and a new ActiveRecord model to handle them.</li>
<li>Adding to the <code>Leaflet.Illustrate</code> user interface to allow people to pick different colors, fonts, etc. for their annotations.</li>
</ul>
<p>I also <em>really</em> want to work on integrating Anish's ImageDistortLeaflet plugin into MapKnitter, since the ability to distort images placed on the map is absolutely the core functionality of MapKnitter.  This will be my primary focus as soon as I've spent some time working on annotations.</p>
</div>
</article>

			</div>
		

		
			<div class="col-md-4 col-md-pull-8 feed">
				<div class="event github-event">
  <span class="mega-octicon octicon-mark-github content-src-icon"></span>
  <!-- push -->
<span class="mega-octicon octicon-git-commit"></span>

<div class="time">
  <time datetime="2014-09-21T13:00:41Z" is="relative-time">September 21, 2014</time>
</div>

<div class="title">
  <a href="https://github.com/manleyjster">manleyjster</a> <span>pushed</span> to <a href="/manleyjster/www.justinmanley.io/tree/gh-pages">gh-pages</a> at <a href="https://github.com/manleyjster/www.justinmanley.io" class="css-truncate css-truncate-target">manleyjster/www.justinmanley.io</a>
</div>

<div class="details">
  <a href="https://github.com/manleyjster"><img alt="Justin Manley" class="gravatar" data-user="1668487" height="30" src="https://avatars3.githubusercontent.com/u/1668487?v=2&amp;s=60" width="30" /></a>

    <div class="commits pusher-is-only-committer">
      <ul>
        <li>
          <span title="manleyjster">
            <img alt="Justin Manley" data-user="1668487" height="16" src="https://avatars2.githubusercontent.com/u/1668487?v=2&amp;s=32" width="16" />
          </span>
          <code><a href="/manleyjster/www.justinmanley.io/commit/aac92db5ddd20d258a6058c7ac0989846b311238">aac92db</a></code>
          <div class="message">
            <blockquote>
              Generate website on "09-21-2014" at "13-00-39".
            </blockquote>
          </div>
        </li>
      </ul>
    </div>
</div>

</div>
<div class="event github-event">
  <span class="mega-octicon octicon-mark-github content-src-icon"></span>
  <!-- push -->
<span class="mega-octicon octicon-git-commit"></span>

<div class="time">
  <time datetime="2014-09-20T21:45:05Z" is="relative-time">September 20, 2014</time>
</div>

<div class="title">
  <a href="https://github.com/manleyjster">manleyjster</a> <span>pushed</span> to <a href="/manleyjster/www.justinmanley.io/tree/master">master</a> at <a href="https://github.com/manleyjster/www.justinmanley.io" class="css-truncate css-truncate-target">manleyjster/www.justinmanley.io</a>
</div>

<div class="details">
  <a href="https://github.com/manleyjster"><img alt="Justin Manley" class="gravatar" data-user="1668487" height="30" src="https://avatars3.githubusercontent.com/u/1668487?v=2&amp;s=60" width="30" /></a>

    <div class="commits pusher-is-only-committer">
      <ul>
        <li>
          <span title="manleyjster">
            <img alt="Justin Manley" data-user="1668487" height="16" src="https://avatars2.githubusercontent.com/u/1668487?v=2&amp;s=32" width="16" />
          </span>
          <code><a href="/manleyjster/www.justinmanley.io/commit/73b6d8de5c49674e29a38b5d3797f626c45add1a">73b6d8d</a></code>
          <div class="message">
            <blockquote>
              Add debugging statements to secret.sh.
            </blockquote>
          </div>
        </li>
      </ul>
    </div>
</div>

</div>
<div class="event github-event">
  <span class="mega-octicon octicon-mark-github content-src-icon"></span>
  <!-- push -->
<span class="mega-octicon octicon-git-commit"></span>

<div class="time">
  <time datetime="2014-09-20T19:16:00Z" is="relative-time">September 20, 2014</time>
</div>

<div class="title">
  <a href="https://github.com/manleyjster">manleyjster</a> <span>pushed</span> to <a href="/manleyjster/www.justinmanley.io/tree/master">master</a> at <a href="https://github.com/manleyjster/www.justinmanley.io" class="css-truncate css-truncate-target">manleyjster/www.justinmanley.io</a>
</div>

<div class="details">
  <a href="https://github.com/manleyjster"><img alt="Justin Manley" class="gravatar" data-user="1668487" height="30" src="https://avatars3.githubusercontent.com/u/1668487?v=2&amp;s=60" width="30" /></a>

    <div class="commits pusher-is-only-committer">
      <ul>
        <li>
          <span title="manleyjster">
            <img alt="Justin Manley" data-user="1668487" height="16" src="https://avatars2.githubusercontent.com/u/1668487?v=2&amp;s=32" width="16" />
          </span>
          <code><a href="/manleyjster/www.justinmanley.io/commit/f74d2a5e28cae4600a1f6b0c8f7c4a781203b75f">f74d2a5</a></code>
          <div class="message">
            <blockquote>
              Refactor feeds.js and config.js to read configuration from the contex…
            </blockquote>
          </div>
        </li>
      </ul>
    </div>
</div>

</div>
<div class="event publiclab-event">
  <div class="content-src-icon"></div>
  <time class="time" datetime="2014-09-01T22:22:48-05:00">September 1, 2014</time>
  <div class="title">
    <a href="http://publiclab.org/profile/justinmanley">justinmanley</a>
    <span> posted </span>
    <a href="http://publiclab.org//notes/justinmanley/09-02-2014/mapknitter-annotations-first-live-release">MapKnitter Annotations: First Live Release</a>
  </div>
</div>
<div class="event publiclab-event">
  <div class="content-src-icon"></div>
  <time class="time" datetime="2014-09-01T15:49:55-05:00">September 1, 2014</time>
  <div class="title">
    <a href="http://publiclab.org/profile/justinmanley">justinmanley</a>
    <span> posted </span>
    <a href="http://publiclab.org//notes/justinmanley/09-01-2014/setting-up-mapknitter">Setting up MapKnitter</a>
  </div>
</div>
<div class="event publiclab-event">
  <div class="content-src-icon"></div>
  <time class="time" datetime="2014-08-18T19:03:58-05:00">August 18, 2014</time>
  <div class="title">
    <a href="http://publiclab.org/profile/justinmanley">justinmanley</a>
    <span> posted </span>
    <a href="http://publiclab.org//notes/justinmanley/08-19-2014/mapknitter-annotations-interface-refactoring-underway">MapKnitter Annotations: Interface Refactoring Underway</a>
  </div>
</div>
<div class="event publiclab-event">
  <div class="content-src-icon"></div>
  <time class="time" datetime="2014-07-29T02:02:01-05:00">July 29, 2014</time>
  <div class="title">
    <a href="http://publiclab.org/profile/justinmanley">justinmanley</a>
    <span> posted </span>
    <a href="http://publiclab.org//notes/justinmanley/07-29-2014/mapknitter-annotations-version-0-0-2-released-with-l-illustrate-textbox-and-l-illustrate-pointer">MapKnitter Annotations: Version 0.0.2 released with L.Illustrate.Textbox and L.Illustrate.Pointer</a>
  </div>
</div>
<div class="event publiclab-event">
  <div class="content-src-icon"></div>
  <time class="time" datetime="2014-07-14T02:23:26-05:00">July 14, 2014</time>
  <div class="title">
    <a href="http://publiclab.org/profile/justinmanley">justinmanley</a>
    <span> posted </span>
    <a href="http://publiclab.org//notes/justinmanley/07-14-2014/mapknitter-annotations-leaflet-illustrate-edithandle-and-leaflet-illustrate-pointer">MapKnitter Annotations: Leaflet.Illustrate.EditHandle and Leaflet.Illustrate.Pointer</a>
  </div>
</div>
<div class="event publiclab-event">
  <div class="content-src-icon"></div>
  <time class="time" datetime="2014-07-01T20:16:59-05:00">July 1, 2014</time>
  <div class="title">
    <a href="http://publiclab.org/profile/justinmanley">justinmanley</a>
    <span> posted </span>
    <a href="http://publiclab.org//notes/justinmanley/07-02-2014/mapknitter-annotations-textbox-rotation-using-css-transforms">MapKnitter Annotations: Textbox Rotation using CSS Transforms</a>
  </div>
</div>
<div class="event publiclab-event">
  <div class="content-src-icon"></div>
  <time class="time" datetime="2014-06-25T00:49:58-05:00">June 25, 2014</time>
  <div class="title">
    <a href="http://publiclab.org/profile/justinmanley">justinmanley</a>
    <span> posted </span>
    <a href="http://publiclab.org//notes/justinmanley/06-25-2014/mapknitter-annotations-update-l-illustrate-textbox">MapKnitter Annotations Update: L.Illustrate.Textbox</a>
  </div>
</div>

			</div>
						
	</div>
</div>
		<footer class="footer">
			<div class="social-media">
				<a href="www.linkedin.com/in/justinmanley/" target="_blank">
					<span class="fa fa-linkedin"></span>
				</a>
				<a href="https://github.com/manleyjster" target="_blank">
					<span class="fa fa-github"></span>
				</a>
				<a href="https://twitter.com/outoftheyards" target="_blank">
					<span class="fa fa-twitter"></span>
				</a>
				<a href="mailto:manleyjster@gmail.com" target="_blank">
					<span class="fa fa-envelope"></span>
				</a>		
			</div>
			<div class="attributions">
				<p>This site was generated on Sep 21st, 2014 with <a href="http://gruntjs.com/">Grunt</a> and <a href="http://assemble.io/">Assemble</a> using fonts and icons from <a href="http://glyphicons.com/">Glyphicons</a>, <a href="http://fortawesome.github.io/Font-Awesome/">Font Awesome</a>, and <a href="https://www.theleagueofmoveabletype.com/">The League of Moveable Type</a>.</p>
				
			</div>		
		</footer>	
	</body>
</html>